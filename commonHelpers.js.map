{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const renderGallery = (articleContainer, images) => {\n  const createMarkupPage = images.map(article => {\n    return `\n    <div class=\"photo-card\">\n        <a class =\"thumb\" href=\"${article.largeImageURL}\"><img class=\"img\" src=\"${article.webformatURL}\" alt=\"${article.tags}\" loading=\"lazy\" /> </a> \n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes</b>\n          ${article.likes}\n        </p>\n        <p class=\"info-item\">\n          <b>Views</b>\n          ${article.views}\n        </p>\n        <p class=\"info-item\">\n          <b>Comments</b>\n          ${article.comments}\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads</b>\n          ${article.downloads}\n        </p>\n      </div>\n    </div>\n  `;\n})\n.join('');\n\n   articleContainer.insertAdjacentHTML('beforeend', createMarkupPage);\n\n}","import axios from 'axios';\n\nconst API_KEY  = '31511712-b53d42f48d96ff6235f6befd4';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport async function fetchArticles(value, currentPage) {\n  try {\n    const res = await axios.get(`?key=${API_KEY}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true&page=${currentPage}&per_page=15`);\n    return res.data.hits;\n  } catch (error) {\n    throw error;\n  }\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderGallery } from \"./js/render-functions\"; \nimport { fetchArticles } from \"./js/pixabay-api\";\n\nconst articleContainer = document.querySelector('.gallery');\nconst loaderMarkup  = '<div id=\"loader\" class=\"loader\"></div>';\n\nconst searchForm = document.querySelector('.search-form');\n\nlet currentPage = 1;\nlet totalImages = 0;\n\nconst searchBtn = document.querySelector('.btn-submit');\nconst loadMoreBtn = document.querySelector('[data-action=\"load-more\"]');\n\n\nsearchForm.addEventListener('submit', handleFormSubmit);\n  \n  function handleFormSubmit(e) { \n  e.preventDefault();\n\n  let form = (e.currentTarget.elements.searchQuery.value).trim();\n   if (form === null || form === '') {\n    iziToast.info({\n    title: 'Please type something in the search input',\n      position: 'topRight',\n    });\n   } else {\n     main(form)\n    //  console.log(form);\n     searchForm.reset();\n     \n  }\n\n}\n\nasync function main(value) {\n \n  try {\n\n    articleContainer.insertAdjacentHTML(\"beforebegin\", loaderMarkup);\n    clearArticlesContainer();\n\n    const photos = await fetchArticles(value, currentPage);\n\n    const loaderSpinner = document.querySelector('#loader');\n    if (loaderSpinner) {\n      loaderSpinner.remove();\n    }\n    \n    if (photos.length === 0) {\n        \n      iziToast.error({\n        title: 'Sorry, there are no images matching your search query',\n        position: 'topRight',\n      })\n    } else {\n        renderGallery(articleContainer, photos);\n      }\n      \n  \n  let lightbox = new SimpleLightbox('.gallery a');\n      lightbox.refresh();\n      \n  } catch (error) {\n    console.log(error)\n  }\n\n}\n\n\nfunction clearArticlesContainer() {\n  articleContainer.innerHTML = '';\n}\n\n\nfunction resetPage() {\n  currentPage = 1;\n} \n\nfunction incrementPage() {\n  currentPage += 1;\n}\n\n\n\n"],"names":["renderGallery","articleContainer","images","createMarkupPage","article","API_KEY","axios","fetchArticles","value","currentPage","error","loaderMarkup","searchForm","handleFormSubmit","e","form","iziToast","main","clearArticlesContainer","photos","loaderSpinner","SimpleLightbox"],"mappings":"owBAAO,MAAMA,EAAgB,CAACC,EAAkBC,IAAW,CACzD,MAAMC,EAAmBD,EAAO,IAAIE,GAC3B;AAAA;AAAA,kCAEuBA,EAAQ,aAAa,2BAA2BA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,YAIhHA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,YAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,YAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,YAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,GAK5B,EACA,KAAK,EAAE,EAELH,EAAiB,mBAAmB,YAAaE,CAAgB,CAEpE,EC5BME,EAAW,qCACjBC,EAAM,SAAS,QAAU,2BAElB,eAAeC,EAAcC,EAAOC,EAAa,CACtD,GAAI,CAEF,OADY,MAAMH,EAAM,IAAI,QAAQD,CAAO,MAAMG,CAAK,iEAAiEC,CAAW,cAAc,GACrI,KAAK,IACjB,OAAQC,EAAO,CACd,MAAMA,CACP,CACH,CCHA,MAAMT,EAAmB,SAAS,cAAc,UAAU,EACpDU,EAAgB,yCAEhBC,EAAa,SAAS,cAAc,cAAc,EAExD,IAAIH,EAAc,EAGA,SAAS,cAAc,aAAa,EAClC,SAAS,cAAc,2BAA2B,EAGtEG,EAAW,iBAAiB,SAAUC,CAAgB,EAEpD,SAASA,EAAiBC,EAAG,CAC7BA,EAAE,eAAc,EAEhB,IAAIC,EAAQD,EAAE,cAAc,SAAS,YAAY,MAAO,OACnDC,IAAS,MAAQA,IAAS,GAC7BC,EAAS,KAAK,CACd,MAAO,4CACL,SAAU,UAChB,CAAK,GAEAC,EAAKF,CAAI,EAETH,EAAW,MAAK,EAIrB,CAEA,eAAeK,EAAKT,EAAO,CAEzB,GAAI,CAEFP,EAAiB,mBAAmB,cAAeU,CAAY,EAC/DO,IAEA,MAAMC,EAAS,MAAMZ,EAAcC,EAAOC,CAAW,EAE/CW,EAAgB,SAAS,cAAc,SAAS,EAClDA,GACFA,EAAc,OAAM,EAGlBD,EAAO,SAAW,EAEpBH,EAAS,MAAM,CACb,MAAO,wDACP,SAAU,UAClB,CAAO,EAEChB,EAAcC,EAAkBkB,CAAM,EAI7B,IAAIE,EAAe,YAAY,EACjC,QAAO,CAEnB,OAAQX,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CAEH,CAGA,SAASQ,GAAyB,CAChCjB,EAAiB,UAAY,EAC/B"}